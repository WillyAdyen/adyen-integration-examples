(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t){e.exports={REQUEST_TYPE:{PAYMENT:"Payment",REFUND:"Refund",REVERSAL:"Reversal",ABORT:"Abort",CARD_ACQUSITION:"CardAcqusition"}}},12:function(e){e.exports=JSON.parse('["card","klarna_paynow","paypal","bcmc_mobile","trustly"]')},28:function(e,t,n){},3:function(e,t){e.exports={getSetting:function(e){var t={country:"NL",currency:"EUR",nativeThreeDS:!1,recurringProcessingModel:"NoRecurring",posRequestType:"Payment"};if("locale"===e){var n=localStorage.getItem("country")||t.country,c="en";switch(n){case"NL":c="nl";break;case"SE":c="sv";break;default:c="en"}return c+"_"+n}return localStorage.getItem(e)?localStorage.getItem(e):t[e]}}},36:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(22),a=n(5),o=(n(28),n(2)),i=(n(29),n(12)),s=n(0),l=function(){return Object(s.jsx)("div",{className:"header",children:Object(s.jsx)("nav",{className:"navbar",children:Object(s.jsxs)("ul",{className:"navbar-level-one",children:[Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/ecom",children:"Ecom"})}),Object(s.jsxs)("ul",{className:"navbar-level-two",children:[Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/dropin",children:"Dropin"})}),Object(s.jsxs)("li",{children:[Object(s.jsx)(a.b,{to:"/components",children:"Components"}),Object(s.jsx)("ul",{className:"navbar-level-three",children:Object.keys(i).map((function(e){return Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/"+i[e],children:i[e]})},e)}))})]}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/paybylink",children:"Pay By Link"})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/recurringpayments",children:"Recurring Payments"})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/modifications",children:"Modifications"})})]}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/pos",children:"POS"})}),Object(s.jsxs)("ul",{className:"navbar-level-two",children:[Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/localapi",children:"Local API"})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/cloudapisync",children:"Cloud API Sync"})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/cloudapiasync",children:"Cloud API Async"})})]})]})})})},j=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("h1",{children:"Project Home"})})},u=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("h1",{children:"Project POS"})})},h=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Project Ecom"}),Object(s.jsx)("nav",{children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/dropin",children:"Dropin"})}),Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/components",children:"Components"})})]})})]})},d=n(4),b=n(14),O=n.n(b),p=n(11),f=n(16),m=n(3),x=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"getPaymentMethods",value:function(){return fetch("/api/getPaymentMethods",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({country:m.getSetting("country"),currency:m.getSetting("currency")})}).then((function(e){return e.json()})).then((function(e){return console.log("Get Payment Methods Response:",e),e})).catch((function(e){throw Error(e)}))}},{key:"makePayment",value:function(e){return fetch("/api/payments",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({stateData:e,origin:window.location.origin,country:m.getSetting("country"),currency:m.getSetting("currency"),nativeThreeDS:m.getSetting("nativeThreeDS"),recurringProcessingModel:m.getSetting("recurringProcessingModel")})}).then((function(e){return e.json()})).then((function(e){return console.log("Payment Response",e),e})).catch((function(e){throw Error("Payment Error",e)}))}},{key:"makeCustomPayment",value:function(e){return fetch("/api/customPayments",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log("Custom Payment Response",e),e})).catch((function(e){throw Error("Custom Payment Error",e)}))}},{key:"handleDetails",value:function(e){return fetch("/api/details",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw Error(e)}))}}]),e}(),g=n(3),y=n.n(g),S=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(""),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(""),l=Object(d.a)(i,2),j=l[0],u=l[1];Object(c.useEffect)((function(){h()}),[]);var h=function(){x.getPaymentMethods().then((function(t){console.log(t);var n={paymentMethodsResponse:t,clientKey:"test_AWHTVRUIQBCC5IX6EVHDZZEO3UBYUUPJ",locale:y.a.getSetting("locale"),environment:"test",onSubmit:function(t,n){x.makePayment(t.data).then((function(t){if(t.action)n.handleAction(t.action),t.action.paymentData&&localStorage.setItem("paymentData",t.action.paymentData);else switch(t.resultCode){case"Authorised":n.setStatus("success");break;case"Error":n.setStatus("error");break;case"Refused":a(t.refusalReason),e.current.scrollIntoView()}})).catch((function(e){throw Error(e)}))},onAdditionalDetails:function(e,t){var n={details:e.data.details,paymentData:e.data.paymentData};x.handleDetails(n).then((function(e){e.action?t.handleAction(e.action):u(e.resultCode)})).catch((function(e){throw Error(e)}))},paymentMethodsConfiguration:{card:{hasHolderName:!0,holderNameRequired:!0,enableStoreDetails:!0,hideCVC:!1,name:"Credit or debit card"}}};new O.a(n).create("dropin").mount("#dropin-container")}))};return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Drop-in"}),"            ",Object(s.jsx)("p",{ref:e,children:r}),Object(s.jsx)("div",{id:"dropin-container"}),j&&Object(s.jsx)(o.a,{to:{pathname:"/confirmation",state:{resultCode:j}}})]})},v=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Project Ecom"}),Object(s.jsx)("nav",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("li",{children:Object(s.jsx)(a.b,{to:"/card",children:"Card"})})})})]})},R=function(e){var t=e.paymentMethod,n=Object(c.useRef)(null),r=Object(c.useState)(""),a=Object(d.a)(r,2),i=a[0],l=a[1],j=Object(c.useState)(""),u=Object(d.a)(j,2),h=u[0],b=u[1];function p(e,t){var n={details:e.data.details,paymentData:e.data.paymentData};x.handleDetails(n).then((function(e){b(e.resultCode)})).catch((function(e){throw Error(e)}))}Object(c.useEffect)((function(){m()}),[]);var f=function e(t,c){t.isValid&&x.makePayment(t.data).then((function(t){if(t.action){var r={};switch(t.action.type){case"redirect":r={showPayButton:!0,locale:"en_US",environment:"test",clientKey:"test_AWHTVRUIQBCC5IX6EVHDZZEO3UBYUUPJ",paymentMethodsResponse:t,onSubmit:e,onAdditionalDetails:p},localStorage.setItem("paymentData",t.action.paymentData),new O.a(r).createFromAction(t.action).mount("#component-container");break;case"threeDS2Fingerprint":case"threeDS2Challenge":r={locale:"en_US",environment:"test",clientKey:"YOUR_CLIENT_KEY",onAdditionalDetails:p};new O.a(r).createFromAction(t.action,{size:"01"}).mount("#component-container");break;case"sdk":default:c.handleAction(t.action)}}else switch(t.resultCode){case"Authorised":b("success");break;case"Error":b("error");break;case"Refused":l(t.refusalReason),n.current.scrollIntoView()}})).catch((function(e){throw Error(e)}))},m=function(){x.getPaymentMethods().then((function(e){var n={showPayButton:!0,locale:y.a.getSetting("locale"),environment:"test",clientKey:"test_AWHTVRUIQBCC5IX6EVHDZZEO3UBYUUPJ",paymentMethodsResponse:e,onSubmit:f,onAdditionalDetails:p};new O.a(n).create(t).mount("#component-container")}))};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:t}),Object(s.jsx)("p",{ref:n,children:i}),Object(s.jsx)("div",{id:"component-container"}),h&&Object(s.jsx)(o.a,{to:{pathname:"/confirmation",state:{resultCode:h}}})]})},P=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(o.g)();return Object(c.useEffect)((function(){if(a.state&&a.state.resultCode)r(a.state.resultCode);else{var e=localStorage.getItem("paymentData"),t=new URLSearchParams(window.location.search),n=t.get("payload")||t.get("redirectResult");if(n)c={details:{redirectResult:n},paymentData:e};else var c={details:{MD:t.get("MD"),PaRes:t.get("PaRes")},paymentData:e};x.handleDetails(c).then((function(e){r(e.resultCode)})).catch((function(e){throw Error(e)}))}}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Confirmation"}),Object(s.jsx)("p",{children:n})]})},E=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"makePOSRequest",value:function(e){return fetch("http://localhost:9000/api/makePOSRequest",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw Error(e)}))}}]),e}(),T=n(10),C=n.n(T),D=function(e){var t=e.integrationType,n=Object(c.useState)(y.a.getSetting("posRequestType")),r=Object(d.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(""),l=Object(d.a)(i,2),j=l[0],u=l[1],h=Object(c.useState)(""),b=Object(d.a)(h,2),O=b[0];b[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:t}),Object(s.jsxs)("select",{id:"posRequestType",name:"posRequestType",defaultValue:a,onChange:function(e){o(e.target.value),localStorage.setItem(e.target.name,e.target.value)},children:[Object(s.jsx)("option",{value:C.a.REQUEST_TYPE.PAYMENT,children:C.a.REQUEST_TYPE.PAYMENT}),Object(s.jsx)("option",{value:C.a.REQUEST_TYPE.REFUND,children:"Unreferenced Refund"}),Object(s.jsx)("option",{value:C.a.REQUEST_TYPE.REVERSAL,children:"Referenced Refund"}),Object(s.jsx)("option",{value:C.a.REQUEST_TYPE.ABORT,children:C.a.REQUEST_TYPE.ABORT}),Object(s.jsx)("option",{value:C.a.REQUEST_TYPE.CARD_ACQUSITION,children:C.a.REQUEST_TYPE.CARD_ACQUSITION})]}),Object(s.jsx)("button",{onClick:function(){var e=localStorage.getItem("previousServiceID"),n=Math.floor(Math.random()*Math.floor(1e7)).toString();localStorage.setItem("previousServiceID",n);var c={integrationType:t,requestType:a,serviceID:n,previousServiceID:e,country:y.a.getSetting("country"),currency:y.a.getSetting("currency"),pOITransactionID:O};E.makePOSRequest(c).then((function(e){u(JSON.stringify(e)),e.saleToPOIResponse.cardAcquisitionResponse&&(c.pOITransactionID=e.saleToPOIResponse.cardAcquisitionResponse.pOIData.pOITransactionID,c.requestType="Payment",c.serviceID=Math.floor(Math.random()*Math.floor(1e7)).toString(),console.log(e.saleToPOIResponse.cardAcquisitionResponse),E.makePOSRequest(c).then((function(e){u(JSON.stringify(e))})).catch((function(e){throw Error(e)})))})).catch((function(e){throw Error(e)}))},children:"Make request"}),Object(s.jsx)("p",{children:j})]})},A=function(){var e=Object(c.useState)(y.a.getSetting("country")),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(y.a.getSetting("currency")),o=Object(d.a)(a,2),i=o[0],l=o[1],j=Object(c.useState)(y.a.getSetting("nativeThreeDS")),u=Object(d.a)(j,2),h=u[0],b=u[1],O=Object(c.useState)(y.a.getSetting("recurringProcessingModel")),p=Object(d.a)(O,2),f=p[0],m=p[1],x=function(e){switch(e.target.name){case"country":r(e.target.value),localStorage.setItem(e.target.name,e.target.value);break;case"currency":l(e.target.value),localStorage.setItem(e.target.name,e.target.value);break;case"nativeThreeDS":b(e.target.checked),localStorage.setItem(e.target.name,e.target.checked);break;case"recurringProcessingModel":m(e.target.value),localStorage.setItem(e.target.name,e.target.value)}};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Settings"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Regular: 4111111111111111"}),Object(s.jsx)("p",{children:"Refusal: 4444333322221111"}),Object(s.jsx)("p",{children:"3DS1: 4212345678901237"}),Object(s.jsx)("p",{children:"3DS2: 4917610000000000"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"checkbox",id:"nativeThreeDS",name:"nativeThreeDS",defaultChecked:"true"===h,onChange:x}),Object(s.jsx)("label",{htmlFor:"nativeThreeDS",children:"Native 3DS2"})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("select",{id:"recurringProcessingModel",name:"recurringProcessingModel",value:f,onChange:x,children:[Object(s.jsx)("option",{value:"NoRecurring",children:"No Recurring"}),Object(s.jsx)("option",{value:"CardOnFile",children:"CardOnFile"}),Object(s.jsx)("option",{value:"UnscheduledCardOnFile",children:"UnscheduledCardOnFile"}),Object(s.jsx)("option",{value:"Subscription",children:"Subscription"})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("select",{id:"country",name:"country",value:n,onChange:x,children:[Object(s.jsx)("option",{value:"BE",children:"Belgium"}),Object(s.jsx)("option",{value:"NL",children:"Netherlands"}),Object(s.jsx)("option",{value:"SE",children:"Sweden"}),Object(s.jsx)("option",{value:"US",children:"United States of America"})]}),Object(s.jsxs)("select",{id:"currency",name:"currency",value:i,onChange:x,children:[Object(s.jsx)("option",{value:"EUR",children:"EUR"}),Object(s.jsx)("option",{value:"SEK",children:"SEK"}),Object(s.jsx)("option",{value:"USD",children:"USD"})]})]})]})},k=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Recurring Payments"}),Object(s.jsx)("button",{onClick:function(){x.makeCustomPayment({amount:{currency:y.a.getSetting("currency"),value:2e3},paymentMethod:{type:"scheme",storedPaymentMethodId:"8416231340266009"},reference:"Recurring_Payment",merchantAccount:"WillylarssonECOM",shopperInteraction:"ContAuth",recurringProcessingModel:y.a.getSetting("recurringProcessingModel"),returnUrl:"www.adyen.com",shopperReference:"WillyLarsson"}).then((function(e){console.log("Recurring Payments Response",e)})).catch((function(e){throw Error(e)}))},children:"Perform Recurring Payment"})]})},I=function e(){Object(p.a)(this,e)};I.generateLink=function(){return fetch("http://localhost:9000/api/paymentLinks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({currency:y.a.getSetting("currency"),country:y.a.getSetting("country"),locale:y.a.getSetting("locale")})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw Error(e)}))};var N=I,w=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(d.a)(a,2),i=o[0],l=o[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Pay By Link"}),Object(s.jsx)("button",{onClick:function(){N.generateLink().then((function(e){r(JSON.stringify(e,null,4)),l(e.url)}))},children:"Generate Link"}),Object(s.jsx)("a",{target:"_blank",href:i,children:"Link"}),Object(s.jsx)("br",{}),Object(s.jsx)("pre",{children:Object(s.jsx)("code",{children:n})})]})},U=function e(){Object(p.a)(this,e)};U.capture=function(e,t){return fetch("http://localhost:9000/api/capture",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({currency:y.a.getSetting("currency"),originalReference:e,amount:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw Error(e)}))},U.refund=function(e,t){return fetch("http://localhost:9000/api/refund",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({currency:y.a.getSetting("currency"),originalReference:e,amount:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw Error(e)}))};var M=U,_=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(d.a)(a,2),i=o[0],l=o[1];return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"Modifications"}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"pspReference",children:"PspReference"}),Object(s.jsx)("input",{type:"text",id:"pspReference",name:"pspReference",value:n,onChange:function(e){r(e.target.value)}})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(s.jsx)("input",{type:"text",id:"amount",name:"amount",value:i,onChange:function(e){l(e.target.value)}})]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){M.capture(n,i).then((function(e){console.log("Capture Response",e)}))},children:"Capture"}),Object(s.jsx)("button",{onClick:function(){M.refund(n,i).then((function(e){console.log("Refund Response",e)}))},children:"Refund"})]})},J=function(){return Object(s.jsxs)(a.a,{children:[Object(s.jsx)(l,{}),Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)(A,{}),Object(s.jsxs)(o.d,{children:[Object(s.jsx)(o.b,{exact:!0,path:"/",children:Object(s.jsx)(j,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/ecom",children:Object(s.jsx)(h,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/dropin",children:Object(s.jsx)(S,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/components",children:Object(s.jsx)(v,{})}),Object.keys(i).map((function(e){return Object(s.jsx)(o.b,{exact:!0,path:"/"+i[e],children:Object(s.jsx)(R,{paymentMethod:i[e]})},e)})),Object(s.jsx)(o.b,{exact:!0,path:"/paybylink",children:Object(s.jsx)(w,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/recurringpayments",children:Object(s.jsx)(k,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/modifications",children:Object(s.jsx)(_,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/pos",children:Object(s.jsx)(u,{})}),Object(s.jsx)(o.b,{exact:!0,path:"/localapi",children:Object(s.jsx)(D,{integrationType:"local"})}),Object(s.jsx)(o.b,{exact:!0,path:"/cloudapisync",children:Object(s.jsx)(D,{integrationType:"cloudsync"})}),Object(s.jsx)(o.b,{exact:!0,path:"/cloudapiasync",children:Object(s.jsx)(D,{integrationType:"cloudasync"})}),Object(s.jsx)(o.b,{exact:!0,path:"/confirmation",children:Object(s.jsx)(P,{})})]})]})]})};Object(r.render)(Object(s.jsx)(a.a,{children:Object(s.jsx)(J,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.76c7cf77.chunk.js.map